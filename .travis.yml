language: node_js
notifications:
  email: false
install: case $TRAVIS_BRANCH in greenkeeper*) npm i;; *) npm ci;; esac;
before_script:
- npm run greenkeeper:update-lockfile
- npm ls --production >/dev/null
after_script: npm run greenkeeper:upload-lockfile
deploy:
  provider: script
  skip_cleanup: true
  script: npx semantic-release
branches:
  except:
  - "/^v\\d+\\.\\d+\\.\\d+$/"
env:
  global:
  - FORCE_COLOR=1
  - NPM_CONFIG_COLOR=always
#  - GK_LOCK_COMMIT_AMEND=true
  - secure: i5CGzRMlx3VPCpE3h7rx+k28VkCapT0WIsbJRIczymzaZdZW+2WpX9bP8oBDq9pIaaN70igD1Abm0Gtyl/salDrOskXY+umfeqfN3UUM4591iOj8xW5hYTEpetO5b8SRLWRbYzAedbzKe75JBWcq+T/jRhYKb8pSzkNyq5ordMZNpdasuXd2AgQsE608fAGOegrrPoZGvV0fHBeat5zlJNynq2TwwxSvLvCHcKCY2z+rdT/2Ol/TeirN1WQN/YWg6XwPJhaPkpjfiKJLA97vCjvTe9C2hlgNB3t5SjMUgmGPoKVaBK4VnuyO9170Sk3VDev9HE17HHEy2BAFroxsraNUU5noHNgIrEF5kNHR1dl/GSxrh8GqdXtQTo/NMCeDmfDouVr6zJEwsjr8bMD70jp8QiQ7Xoj4wZa+OKahWnSxlpGBU0I9wNQGQ91zQRvb9nBKN4L04faGMYvbXBuZEOioPVPk9Vt9yGtsj7V/KCa1n0/tQFwCuVwA9t4gbcrDZo6gXDgAD7OHrX1MQZKady/0wX5B7Gzkd4lGD1VfcGILATAftIsahAChm6z0zWCBeNL//h61ZDmFMaNsN6WPIObUEZ5i8wWk3wiJdyqppmhwQWSGrW7/ROueCaFic6hu9A+EYAI2EEdL4Cbu2PtU0z538SWxeaSi4djeVya+aVc=
  - secure: B7GrS9XW9wWP6fjJEQ8nlcJ7VxPzLCHI0O6tfinQcA4WbqjOkDsNg2sJlq+llgcxbDPToKJqOJfR44hoS43U4DVgFl7VRmBg7T2jg88Sv865qk/ZpeAy0J8ApbB4W0+MC2njpzXGon26Px2tDFBT1bbLz5g+abGTfX70+LivZGb1fD77A/W4tCFX8GilY43tpCv2Wts4YrDXsNxk//YFVy/3xYI8a4DW8I2+NYeICFoefND5ard51hDl4WU3XKgpecbzpgb6OQoUZXZIKfZVUPTjVthEr6q+klQCh7/9EsiAX5eKF4ULftX8EKpsOGkk5QrImuxv5ZQHGtMdLunwj6Cl0NbFVJb/cYCAWko9j/vzgzhyGYC+nB0CsL9XyvrtLUoTDJgd2SgHKpjM4Bs2sK1uDFXFxbumOSFBu7DjBZJQcaGrpzYnqhsf4UIdMe9SKJunWjuOnw3O680/K/cHBlWjndpMGDTvddFCd6neQdA3zqUIg8nCO1n0TpqVtgYbLKVHCcP07J5FmfdXKHAh61Pc27GeQcu054gIe8v4jasfrgtuD8GBRyLUVtTBappmVhfovQHvv8+F2+FkJCfBN16gl/b1q6HkFQFVm/gdKk+liRMMirr/zX0NqA3pZapGDz04LJN9UYkFxzIa+m3U6LvNy1QMzSRcx5Ix5j1BzFM=
